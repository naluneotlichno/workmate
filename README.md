# Workmate ‚Äî –ø—Ä–æ—Å—Ç–æ–π —Å–±–æ—Ä—â–∏–∫ –∞—Ä—Ö–∏–≤–æ–≤ (–±–µ–∑ –ë–î –∏ –±–µ–∑ Docker)

## üìã –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–æ –¢–ó

### ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á**: API –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤**: –û—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ API –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫ –Ω–∞ —Ñ–∞–π–ª—ã –≤ –∑–∞–¥–∞—á—É
- **–°—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á**: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É–ø–∞–∫–æ–≤–∫–∞**: –ö–∞–∫ —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ —Ñ–∞–π–ª–æ–≤ = 3, –º–µ—Ç–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –∞—Ä—Ö–∏–≤
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞**: –ú–∞–∫—Å–∏–º—É–º 3 –∑–∞–¥–∞—á–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ä–µ—Å—É—Ä—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ, –Ω–æ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã —É–ø–∞–∫–æ–≤—ã–≤–∞—é—Ç—Å—è
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–∏–ø–æ–≤**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–æ–ª—å–∫–æ .pdf –∏ .jpeg —Ñ–∞–π–ª–æ–≤
- **–ü–æ—Ä—Ç**: –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ –ø–æ—Ä—Ç—É 8080
- **–ë–µ–∑ –≤–Ω–µ—à–Ω–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã**: –ù–∏–∫–∞–∫–∏—Ö Docker, –ë–î –∏ –¥—Ä—É–≥–∏—Ö –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### ‚úÖ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–°–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏**: –í—Å–µ –∑–∞–¥–∞—á–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏
- **JSON-—Å–Ω–∏–º–∫–∏**: –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ JSON —Ñ–∞–π–ª—ã –Ω–∞ –¥–∏—Å–∫–µ
- **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ Go –∏ best practices
- **–†–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å**: –ö–æ–¥ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É

## üöÄ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### Web UI

- **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –î–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:8080`
- **–£–¥–æ–±–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
- **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è**: –ö—Ä–∞—Å–∏–≤—ã–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

- **config.yml**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä—Ç–∞, –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–∞–Ω–Ω—ã—Ö, —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π
- **–ì–∏–±–∫–æ—Å—Ç—å**: –õ–µ–≥–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏

### –£–ª—É—á—à–µ–Ω–Ω—ã–π Makefile

- **make up**: –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª (—Å–±–æ—Ä–∫–∞ + –ª–∏–Ω—Ç–µ—Ä—ã + —Ç–µ—Å—Ç—ã + –∑–∞–ø—É—Å–∫)
- **make down**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞
- **make run-debug**: –ó–∞–ø—É—Å–∫ —Å –≤–∏–¥–∏–º—ã–º –æ–∫–Ω–æ–º –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- **make clean**: –û—á–∏—Å—Ç–∫–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ —Å–±–æ—Ä–∫–∏
- **–ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å**: –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Windows —á–µ—Ä–µ–∑ Git Bash

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ API endpoints

- **GET /api/v1/tasks/{id}/archive**: –ü—Ä—è–º–æ–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–æ–≥–æ –∞—Ä—Ö–∏–≤–∞
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–µ—É—Å–ø–µ—à–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö

## üõ† –ó–∞–ø—É—Å–∫

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
make up    # –°–±–æ—Ä–∫–∞ + –ª–∏–Ω—Ç–µ—Ä—ã + —Ç–µ—Å—Ç—ã + –∑–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ
make down  # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
```

### –ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
make build     # –°–±–æ—Ä–∫–∞ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞
make test      # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
make lint      # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ + –ª–∏–Ω—Ç–µ—Ä—ã
make run-debug # –ó–∞–ø—É—Å–∫ —Å –≤–∏–¥–∏–º—ã–º –æ–∫–Ω–æ–º
make clean     # –û—á–∏—Å—Ç–∫–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
workmate/
‚îú‚îÄ‚îÄ cmd/main.go              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îú‚îÄ‚îÄ back/               # Backend –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/           # HTTP handlers
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ task/          # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ archive/       # –†–∞–±–æ—Ç–∞ —Å –∞—Ä—Ö–∏–≤–∞–º–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config/        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ front/ui/          # Web UI
‚îú‚îÄ‚îÄ storage/              # –°–æ–±—Ä–∞–Ω–Ω—ã–µ –±–∏–Ω–∞—Ä–Ω–∏–∫–∏ –∏ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îî‚îÄ‚îÄ data/             # –î–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á
‚îî‚îÄ‚îÄ makefile              # –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–æ–∑–¥–∞–π—Ç–µ `config.yml` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

```yaml
port: 8080 # –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞
data_dir: data # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –¥–∞–Ω–Ω—ã—Ö
allowed_extensions: [".pdf", ".jpeg"] # –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã —Ñ–∞–π–ª–æ–≤
max_concurrent_tasks: 3 # –ú–∞–∫—Å–∏–º—É–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
```

## üîå API

### –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏

```bash
curl -X POST http://localhost:8080/api/v1/tasks
# 201 {"task_id":"...","status":"created"}
# 503 {"error":"server busy"} # –µ—Å–ª–∏ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

```bash
curl -X POST http://localhost:8080/api/v1/tasks/<id>/files \
  -H 'Content-Type: application/json' \
  -d '{"urls":["https://host/a.pdf","https://host/b.jpeg","https://host/c.pdf"]}'
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞

```bash
curl http://localhost:8080/api/v1/tasks/<id>
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å + archive_url –∫–æ–≥–¥–∞ –≥–æ—Ç–æ–≤–æ
```

### –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞

```bash
curl -OJ http://localhost:8080/api/v1/tasks/<id>/archive
```

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è

- –ü—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–µ –∑–∞–¥–∞—á–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `in_progress` –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ `failed`
- JSON-—Å–Ω–∏–º–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ –≤ –ø–∞–º—è—Ç—å

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- –ß–∞—Å—Ç–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞
- –ù–µ—É—Å–ø–µ—à–Ω—ã–µ —Ñ–∞–π–ª—ã –ø–æ–º–µ—á–∞—é—Ç—Å—è –≤ —Å—Ç–∞—Ç—É—Å–µ, —É—Å–ø–µ—à–Ω—ã–µ —É–ø–∞–∫–æ–≤—ã–≤–∞—é—Ç—Å—è

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤ 3 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤ –¥–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¢–ó –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã, –¥–æ–±–∞–≤–ª–µ–Ω—ã —É–¥–æ–±–Ω—ã–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.
